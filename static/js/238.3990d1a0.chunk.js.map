{"version":3,"file":"static/js/238.3990d1a0.chunk.js","mappings":"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","sources":["views/pages/errors/Error404.js","views/pages/SalesReport.js","services/transaction.js","services/account.js","views/components/Pagination.js","utils/Antd.js","views/pages/BillingReport.js","views/pages/AccountTransaction.js","views/pages/Account.js","services/file.js","utils/UploadCSV.js","views/pages/Transaction.js","views/layout/Layout.js"],"sourcesContent":["import { Result, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Error404() {\r\n    return (\r\n        <Result\r\n            status=\"404\"\r\n            title=\"404\"\r\n            subTitle=\"Sorry, the page you visited does not exist.\"\r\n            extra={<Link to=\"/\"><Button type=\"primary\">Back Home</Button></Link>}\r\n        />\r\n    );\r\n}\r\n\r\n","import React from 'react'\r\n\r\nconst SalesReport = () => {\r\n  return (\r\n    <div>SalesReport</div>\r\n  )\r\n}\r\n\r\nexport default SalesReport","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'transation';\r\n\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static detail(id, data) {\r\n        return axios.get(this.baseURL + '/details/'+id, { params: data });\r\n    }\r\n    static save(data) {\r\n        return axios.post(this.baseURL + \"/save\", data);\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n    static saveFromCSVUrl(data) {\r\n        return axios.post(this.baseURL + \"/csv-upload\", data);\r\n    }\r\n    static checkPrevTransation(data) {\r\n        return axios.post(this.baseURL + \"/check-prev-transation\", data);\r\n    }\r\n\r\n    static listBillReport(data) {\r\n        return axios.get(this.baseURL + '/list-bill-report', { params: data });\r\n    }\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'account';\r\n\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static detail(id, data) {\r\n        return axios.get(this.baseURL + '/details/'+id, { params: data });\r\n    }\r\n    static save(data) {\r\n        return axios.post(this.baseURL + \"/save\", data);\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n}","import { Pagination, Tag } from 'antd';\r\nexport default function MyPagination(props) {\r\n    const { qData, setQData } = props;\r\n\r\n    const handleChange = (page, pp) => {\r\n        if (qData.limit !== pp) {\r\n            setQData({ ...qData, page: 1, limit: pp });\r\n        } else {\r\n            setQData({ ...qData, page: page });\r\n        }\r\n    }\r\n\r\n    const showTotal = () => {\r\n        let start = (qData.page - 1) * qData.limit * 1 + 1;\r\n        let end = qData.page * qData.limit;\r\n        return <Tag>{'Showing ' + start + ' - ' + end + ' out of ' + qData.total}</Tag>\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                qData.total > 0\r\n                    ? <Pagination\r\n                        total={qData.total}\r\n                        showTotal={showTotal}\r\n                        pageSize={qData.limit}\r\n                        current={qData.page}\r\n                        onChange={handleChange}\r\n                        showSizeChanger={true}\r\n                    />\r\n                    : null\r\n            }\r\n        </>\r\n    );\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState, forwardRef } from 'react';\r\nimport moment from 'moment';\r\nimport {\r\n    DatePicker,\r\n    Checkbox,\r\n    message,\r\n    Upload,\r\n    Modal,\r\n} from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nexport function AntdDatepicker(props) {\r\n    let {\r\n        format,\r\n        getFormat = 'YYYY-MM-DD',\r\n        inputReadOnly,\r\n        value,\r\n        defaultValue,\r\n        onChange,\r\n        disablePastDate = false,\r\n        disableUpcomingDate = false,\r\n        ...rest\r\n    } = props;\r\n\r\n\r\n    let otherProps = {};\r\n    if (typeof value !== \"undefined\") {\r\n        // otherProps.value = moment(value).format(format || 'DD MMM YYYY') ? moment(new Date(value)) : null\r\n        otherProps.value = moment(new Date(value ? value : new Date()), format || 'DD MMM YYYY');\r\n    }\r\n    if (typeof defaultValue !== \"undefined\") {\r\n        otherProps.defaultValue = defaultValue ? moment(new Date(defaultValue)) : null\r\n    }\r\n    if (typeof onChange !== \"undefined\") {\r\n        otherProps.onChange = (dt) => {\r\n            onChange(dt ? moment(dt).format(getFormat) : null);\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        onChange(moment(value).format(getFormat))\r\n    }, [])\r\n\r\n    return (\r\n        <DatePicker\r\n            format={format || 'DD MMM YYYY'}\r\n            inputReadOnly={inputReadOnly || true}\r\n            disabledDate={(current) => {\r\n                let customDate = moment().format(\"YYYY-MM-DD\");\r\n                if (disablePastDate) {\r\n                    return current && current < moment(customDate, \"YYYY-MM-DD\");\r\n                }\r\n                if (disableUpcomingDate) {\r\n                    return current && current > moment(customDate, \"YYYY-MM-DD\");\r\n                }\r\n            }}\r\n            {...otherProps}\r\n            {...rest}\r\n            style={{ width: '100%' }}\r\n        />\r\n    )\r\n}\r\n\r\nexport function MultiChechBox(props) {\r\n    const { col = 3 } = props;\r\n    const type = typeof props.value === 'object' ? 'array' : 'string';\r\n\r\n    let [values, setValues] = useState();\r\n    let [options, setOptions] = useState([]);\r\n\r\n    const handleChange = (e) => {\r\n        const val = typeof e.target.value * 1 !== 'NaN' ? e.target.value + '' : e.target.value * 1;\r\n        if (e.target.checked) {\r\n            values.push(val)\r\n            setValues([...values]);\r\n        } else {\r\n            if (values.indexOf(val) > -1) {\r\n                values.splice(values.indexOf(val), 1);\r\n                setValues([...values])\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (type === 'string') {\r\n            values = props.value ? props.value.split(',').map((v) => v * 1) : [];\r\n            setValues([...values]);\r\n        } else {\r\n            setValues([...props.value]);\r\n        }\r\n    }, [props.value]);\r\n\r\n    useEffect(() => {\r\n        let opts = props.options.map((v, i) => {\r\n            if (v.value) {\r\n                return { value: v.value * 1, label: v.label }\r\n            } else if (v.id) {\r\n                return { value: v.id * 1, label: v.name || v.title || v.label }\r\n            } else if (v._id) {\r\n                return { value: v._id + '', label: v.name || v.title || v.label }\r\n            }\r\n            return null;\r\n        });\r\n        setOptions(opts);\r\n    }, [props.options]);\r\n\r\n    useEffect(() => {\r\n        // if (type === 'string') {\r\n        //     props.onChange(values?.join());\r\n        // } else {\r\n        props.onChange(values)\r\n        // }\r\n    }, [(values || []).join(\",\")])\r\n\r\n    return (\r\n        <div className=\"row mingap\" >\r\n            {\r\n                options.map((v, i) => (\r\n                    <div className={`col-md-${col} mb-2 form-group`} key={i}>\r\n                        <div className=\"border p-1\">\r\n                            <Checkbox\r\n                                value={typeof v.value * 1 !== 'NaN' ? v.value + '' : v.value * 1}\r\n                                checked={values?.includes(typeof v.value * 1 !== 'NaN' ? v.value + '' : v.value * 1)}\r\n                                onChange={handleChange}\r\n                                className=\"mx-0 mr15\"\r\n                            >\r\n                                {v.label}\r\n                            </Checkbox>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport function AntdMsg($msg, $type = 'success') {\r\n    if ($msg) {\r\n        if ($type === 'success')\r\n            message.success($msg);\r\n        if ($type === 'error')\r\n            message.error($msg);\r\n        if ($type === 'warning')\r\n            message.warning($msg);\r\n    }\r\n};\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\nconst UploadImage = forwardRef((props, ref) => {\r\n    const { fileCount } = props;\r\n    const fileRef = ref;\r\n    let { files } = props;\r\n    useEffect(() => {\r\n        setFileList(files)\r\n    }, [files])\r\n\r\n    if (files.length) {\r\n        files = files?.map((v, i) => {\r\n            return { uid: i, url: v.url, status: 'done', name: v.name };\r\n        });\r\n    } else {\r\n        files = [];\r\n    }\r\n\r\n\r\n    const [fileList, setFileList] = useState(files);\r\n\r\n    const dummyRequest = ({ file, onSuccess }) => {\r\n        setTimeout(() => {\r\n            onSuccess(\"ok\");\r\n            if (!fileRef.current.uploadingFiles) {\r\n                fileRef.current.uploadingFiles = [];\r\n            }\r\n            fileRef.current.uploadingFiles?.push(file);\r\n        }, 0);\r\n    };\r\n    const [previewVisible, setPreviewVisible] = useState(false);\r\n    const [previewImage, setPreviewImage] = useState('');\r\n    const [previewTitle, setPreviewTitle] = useState('');\r\n\r\n    const handleCancel = () => setPreviewVisible(false);\r\n\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        setPreviewVisible(true);\r\n        setPreviewImage(file.url || file.preview);\r\n        setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n    };\r\n\r\n    const handleChange = ({ fileList: newFileList }) => {\r\n        setFileList(newFileList);\r\n    };\r\n\r\n    const uploadButton = (\r\n        <div>\r\n            <PlusOutlined />\r\n            <div style={{ marginTop: 8 }}>Upload</div>\r\n        </div>\r\n    );\r\n    return (\r\n        <>\r\n            <Upload\r\n                // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                listType=\"picture-card\"\r\n                customRequest={dummyRequest}\r\n                fileList={fileList}\r\n                onPreview={handlePreview}\r\n                onChange={(value) => {\r\n                    if (value.file.status === 'removed' || value.file.status) {\r\n                        handleChange(value)\r\n                    }\r\n                }}\r\n                beforeUpload={\r\n                    (file) => {\r\n                        if (!file.type.includes('image/')) {\r\n                            message.error('Invalid file type');\r\n                            return false\r\n                        }\r\n                    }\r\n                }\r\n                onRemove={(e) => {\r\n                    if (!fileRef.current.deletingFiles) {\r\n                        fileRef.current.deletingFiles = [];\r\n                    }\r\n                    if (!e.thumbUrl) {\r\n                        fileRef.current.deletingFiles?.push(e);\r\n                    } else {\r\n                        fileRef.current.uploadingFiles = fileRef.current.uploadingFiles.filter((v) => { return v.uid !== e.uid })\r\n                    }\r\n                }}\r\n            >\r\n                {fileList.length >= fileCount ? null : uploadButton}\r\n            </Upload>\r\n            <Modal\r\n                open={previewVisible}\r\n                title={previewTitle}\r\n                footer={null}\r\n                onCancel={handleCancel}\r\n            >\r\n                <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n            </Modal>\r\n        </>\r\n    );\r\n})\r\n\r\nexport default UploadImage;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Modal, Typography, Select, DatePicker } from 'antd';\r\nimport { EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/transaction';\r\nimport serviceAccount from '../../services/account';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport moment from 'moment';\r\n\r\nexport default function BillingReport({ transactionType = \"credit\" }) {\r\n\tconst path = window.location.pathname.split('/')[2];\r\n\tconst [data, setData] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [accounts, setAccounts] = useState([]);\r\n\tconst [qData, setQData] = useState({ page: 1, limit: 20, transactionType, /* accountId: '63c642983150f06edc719889' */ });\r\n\tconst addNewModalRef = useRef();\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Account Name',\r\n\t\t\tdataIndex: 'accountDetails',\r\n\t\t\trender: (data) => data?.name\r\n\t\t},\r\n\t\t// {\r\n\t\t// \ttitle: 'Receivable Account',\r\n\t\t// \tdataIndex: 'accountRecievable',\r\n\t\t// \twidth: 250,\r\n\t\t// \thidden: transactionType === 'debit'\r\n\t\t// },\r\n\t\t{\r\n\t\t\ttitle: 'Date',\r\n\t\t\tdataIndex: 'date',\r\n\t\t\twidth: 150,\r\n\t\t\trender: v => moment(v).format('DD MMM YYYY')\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Amount',\r\n\t\t\tdataIndex: 'amount',\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \ttitle: 'Bill Number',\r\n\t\t// \tdataIndex: 'billNumber',\r\n\t\t// \twidth: 150,\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \ttitle: 'Previous Date',\r\n\t\t// \tdataIndex: 'previousTransactionDate',\r\n\t\t// \twidth: 150,\r\n\t\t// \trender: v => moment(new Date(v)).format('DD MMM YYYY')\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \ttitle: 'Previous Transactions Debit',\r\n\t\t// \tdataIndex: 'previousDebitTransactions',\r\n\t\t// \twidth: 250,\r\n\t\t// \trender: v => { return v?.map(vv => <Tag>{moment(new Date(vv?.date)).format('DD MMM YYYY')} -- {vv.amount} </Tag>) }\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \ttitle: 'Previous Transactions Credit',\r\n\t\t// \tdataIndex: 'previousCreditTransactions',\r\n\t\t// \twidth: 250,\r\n\t\t// \trender: v => { return v?.map(vv => <Tag>{moment(new Date(vv?.date)).format('DD MMM YYYY')} -- {vv.amount}</Tag>) }\r\n\t\t// },\r\n\t\t{\r\n\t\t\ttitle: 'Previous Billing Amount',\r\n\t\t\tdataIndex: 'previousCreditAmount',\r\n\t\t\twidth: 200,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Previous Selling Amount',\r\n\t\t\tdataIndex: 'previousDebitAmount',\r\n\t\t\twidth: 200,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Account Initial Amount',\r\n\t\t\tdataIndex: 'accountDetails',\r\n\t\t\twidth: 200,\r\n\t\t\trender: (data) => data?.initialAmount\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Action',\r\n\t\t\tdataIndex: '_id',\r\n\t\t\twidth: 70,\r\n\t\t\trender: (v, row) => {\r\n\t\t\t\treturn <>\r\n\t\t\t\t\t<Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t},\r\n\t].filter(item => !item.hidden);\r\n\r\n\tfunction list() {\r\n\t\tsetLoading(true);\r\n\t\tservice.listBillReport(qData).then(res => {\r\n\t\t\tsetData(res.data?.map((v) => ({ ...v, key: v.accountId })));\r\n\t\t\tsetQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n\t\t}).catch(err => { }).finally(() => {\r\n\t\t\tsetLoading(false);\r\n\t\t});\r\n\t}\r\n\r\n\tconst deleteData = (id) => {\r\n\t\tservice.delete(id).then(res => {\r\n\t\t\tAntdMsg(res.message);\r\n\t\t\tlist();\r\n\t\t}).catch(err => {\r\n\t\t\tAntdMsg(err.message, 'error');\r\n\t\t})\r\n\t}\r\n\r\n\tconst tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n\ttableColumns[0].fixed = true;\r\n\ttableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n\tconst tableProps = {\r\n\t\tbordered: true,\r\n\t\tloading,\r\n\t\tsize: 'small',\r\n\t\ttitle: () => <Search {...{ addNewModalRef, deleteData, qData, setQData, list, accounts }} />,\r\n\t\tshowHeader: true,\r\n\t\tfooter: () => <Pagination {...{ qData, setQData }} />,\r\n\t\ttableLayout: undefined,\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tsetQData({ ...qData, transactionType: path === \"sales-transaction\" ? \"debit\" : \"credit\" })\r\n\t}, [path])\r\n\r\n\tuseEffect(() => {\r\n\t\tlist();\r\n\t}, [qData.page, qData.limit, qData.transactionType]);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tserviceAccount.list({ isAll: 1 })\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetAccounts(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tif (typeof err.message === 'object') {\r\n\t\t\t\t\tlet dt = err.message[Object.keys(err.message)[0]];\r\n\t\t\t\t\tAntdMsg(dt, 'error');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tAntdMsg(err.message, 'error');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, []);\r\n\r\n\t// const dataSource = [\r\n\t// \t{\r\n\t// \t\t_id: 1,\r\n\t// \t\tname: \"Asad\",\r\n\t// \t\tdesription: \"Test\"\r\n\t// \t}\r\n\t// ]\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Typography.Title level={5} style={{ margin: 0 }}>List of  Transactions</Typography.Title>\r\n\r\n\t\t\t<Table\r\n\t\t\t\t{...tableProps}\r\n\t\t\t\tpagination={{ position: ['none'], pageSize: qData.limit }}\r\n\t\t\t\tcolumns={tableColumns}\r\n\t\t\t\t// dataSource={dataSource}\r\n\t\t\t\tdataSource={data.length ? data : []}\r\n\t\t\t\tscroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n\t\t\t\texpandable={{\r\n\t\t\t\t\trowExpandable: (record) => true,\r\n\t\t\t\t\texpandedRowRender: (record) => (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t{console.log(record.key)}\r\n\t\t\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'row-reverse' }} >\r\n\t\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\t\t// width={300}\r\n\t\t\t\t\t\t\t\t\tbordered\r\n\t\t\t\t\t\t\t\t\t// style={{width: '500px'}}\r\n\t\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tdataSource={[\r\n\t\t\t\t\t\t\t\t\t\t...record.previousCreditTransactions,\r\n\t\t\t\t\t\t\t\t\t\t...record.previousDebitTransactions,\r\n\t\t\t\t\t\t\t\t\t\t{ date: 'Total', transactionType: 'total' },\r\n\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\tcolumns={[\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Date',\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: 'date',\r\n\t\t\t\t\t\t\t\t\t\t\talign: 'left',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t\t\t\t\t\trender: v => v !== 'Total' ? moment(v).format('DD MMM YYYY') : <b>Total</b>\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Bill',\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: 'amount',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\talign: 'right',\r\n\t\t\t\t\t\t\t\t\t\t\trender: (v, row) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (['credit', 'debit'].includes(row.transactionType)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn row.transactionType === 'credit' ? v : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (row.date === 'Total') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <b>{record.previousCreditTransactions?.reduce(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(accumulator, currentValue) => accumulator + currentValue.amount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(record.accountDetails.initialAmount + record.previousCreditAmount) || 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Sale',\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: 'amount',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\talign: 'right',\r\n\t\t\t\t\t\t\t\t\t\t\trender: (v, row) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (['credit', 'debit'].includes(row.transactionType)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn row.transactionType === 'debit' ? v : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (row.date === 'Total') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <b>{record.previousDebitTransactions?.reduce(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(accumulator, currentValue) => accumulator + currentValue.amount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(record.previousDebitAmount) || 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<AddForm ref={addNewModalRef} {...{ list, accounts }} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nfunction Search({ addNewModalRef, qData, setQData, list, accounts }) {\r\n\r\n\treturn (\r\n\t\t<Form onSubmitCapture={list} className=\"search-form\">\r\n\t\t\t<Row gutter={[12, 2]}>\r\n\t\t\t\t<Col span={4}>\r\n\t\t\t\t\t<Form.Item style={{ marginBottom: 0 }}>\r\n\t\t\t\t\t\t<Select placeholder=\"Choose a account\" value={qData.accountId} onChange={v => { setQData({ ...qData, accountId: v }) }} allowClear>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\taccounts.map(v => (\r\n\t\t\t\t\t\t\t\t\t<Select.Option value={v._id} key={v._id}>{v.name}</Select.Option>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col span={4}>\r\n\t\t\t\t\t<Form.Item style={{ marginBottom: 0 }}>\r\n\t\t\t\t\t\t<DatePicker.RangePicker format='DD MMM YYYY' onChange={(e) => { setQData({ ...qData, startTime: new Date(e[0]), endTime: new Date(e[1]) }) }} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col span={3}>\r\n\t\t\t\t\t<Form.Item style={{ marginBottom: 0 }}>\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col span={10}>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Form>\r\n\t);\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n\tconst [open, setOpen] = useState(false);\r\n\r\n\r\n\tuseImperativeHandle(ref, () => ({\r\n\t\topenForm(dt) {\r\n\t\t\tsetOpen(true);\r\n\t\t}\r\n\t}));\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={'Report Details'}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t\topen={open}\r\n\t\t\t\tokText=\"Save\"\r\n\t\t\t\t// onOk={save}\r\n\t\t\t\t// okButtonProps={{ disabled: ajxRequesting }}\r\n\t\t\t\tonCancel={() => { setOpen(false); }}\r\n\t\t\t\t// destroyOnClose\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\twidth={400}\r\n\t\t\t\tclassName=\"app-modal-body-overflow\"\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Select, DatePicker } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, UploadOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/transaction';\r\nimport serviceAccount from '../../services/account';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport moment from 'moment';\r\n\r\nexport default function AccountTransaction({ accountId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [accounts, setAccounts] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, accountId });\r\n    const addNewModalRef = useRef();\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Account Name',\r\n            dataIndex: 'accountDetail',\r\n            render: (data) => data?.name\r\n        },\r\n        {\r\n            title: 'Date',\r\n            dataIndex: 'date',\r\n            width: 150,\r\n            render: v => moment(v).format('DD MMM YYYY')\r\n        },\r\n        {\r\n            title: 'Amount',\r\n            dataIndex: 'amount',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Bill Number',\r\n            dataIndex: 'billNumber',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Amount',\r\n            dataIndex: 'amount',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        <Popconfirm\r\n                            title=\"Are you sure to delete this Account data?\"\r\n                            onConfirm={() => { deleteData(row._id); }}\r\n                            okText=\"Yes\"\r\n                            cancelText=\"No\"\r\n                        >\r\n                            <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                        </Popconfirm>\r\n                    }\r\n                    {\r\n                        <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.list(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, accounts }} />,\r\n        size: 'small',\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    useEffect(() => {\r\n        serviceAccount.list({ isAll: 1 })\r\n            .then(res => {\r\n                setAccounts(res.data);\r\n            })\r\n            .catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            })\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5} style={{ margin: 0 }}>List of  Transactions</Typography.Title>\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data.filter(v => v.transactionType === \"credit\") : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n                expandable={{\r\n                    expandedRowRender: (record) => (\r\n                        data.map(v => {\r\n                            if (v.transactionType === \"debit\") {\r\n                                return (\r\n                                    <div\r\n                                        style={{\r\n                                            marginLeft: \"5rem\",\r\n                                            marginBottom:\"1rem\"\r\n                                        }}\r\n                                    >\r\n                                        <span style={{marginRight:\"2rem\"}}>{v.accountDetail.name}</span>\r\n                                        <span style={{marginRight:\"2rem\"}}>{moment(v.date).format('DD MMM YYYY')}</span>\r\n                                        <span style={{marginRight:\"2rem\"}}>{v.amount}</span>\r\n                                        <span style={{marginRight:\"2rem\"}}>{v.billNumber}</span>\r\n                                        <span style={{marginRight:\"2rem\"}}>{v.transactionType}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })\r\n                    ),\r\n                    rowExpandable: (record) => record.name !== 'Not Expandable',\r\n                }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, accounts }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, accounts }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <DatePicker.RangePicker format='DD MMM YYYY' onChange={(e) => { setQData({ ...qData, startTime: new Date(e[0]), endTime: new Date(e[1]) }) }} />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={10}>\r\n\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected Data?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, accounts } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        Object.entries(value).forEach(ent => {\r\n            let varDt = data;\r\n            const k = ent[0];\r\n            const v = ent[1];\r\n            let keys = k.split('.');\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (i + 1 === keys.length) {\r\n                    varDt[keys[i]] = v;\r\n                } else {\r\n                    if (typeof varDt[keys[i]] === 'undefined') {\r\n                        if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                            varDt[keys[i]] = [];\r\n                        } else {\r\n                            varDt[keys[i]] = {};\r\n                        }\r\n                    } varDt = varDt[keys[i]];\r\n                }\r\n            }\r\n        });\r\n        setData({ ...data });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data._id).then(res => {\r\n            setData(res.data || {});\r\n\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        }\r\n    }, [open]);\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Transaction Data'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Account Id\" required>\r\n                                    <Select value={data.accountId} onChange={v => { handleChange({ accountId: v }) }} >\r\n                                        {\r\n                                            accounts.map(item => <Select.Option value={item._id} key={item._id}>{item.name}</Select.Option>)\r\n                                        }\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Amount\" required>\r\n                                    <Input placeholder='Enter Amount' type=\"number\" min={0} value={data.amount} onChange={(e) => handleChange({ amount: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Type\" required>\r\n                                    <Input placeholder='Enter your type' value={data.type} onChange={(e) => handleChange({ type: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Bill Number\" required>\r\n                                    <Input placeholder='Enter bill number' value={data.billNumber} onChange={(e) => handleChange({ billNumber: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Account Recievable\" required>\r\n                                    <Input value={data.accountRecievable} onChange={(e) => handleChange({ accountRecievable: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Date\" required>\r\n                                    <DatePicker format='DD MMM YYYY' onChange={(v) => { handleChange({ date: v }) }} value={moment(data?.date)} className=\"w-100\" />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Transaction Type\" required>\r\n                                    <Select value={data.transactionType} onChange={v => { handleChange({ transactionType: v }) }} >\r\n                                        <Select.Option value={\"credit\"} >Credit</Select.Option>\r\n                                        <Select.Option value={\"debit\"} >Debit</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Comment\">\r\n                                    <Input.TextArea cols={8} rows={6} value={data.comment} onChange={(e) => handleChange({ comment: e.target.value })}></Input.TextArea>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/account';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport AccountTransaction from './AccountTransaction';\r\n\r\nexport default function Account({ type }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n    const transactionModalRef = useRef();\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Initial Amount',\r\n            dataIndex: 'initialAmount',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: (_, row) => {\r\n                if (row.status === \"opened\") {\r\n                    return <Tag color='green'>Opened</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Closed</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 110,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        <Popconfirm\r\n                            title=\"Are you sure to delete this Account data?\"\r\n                            onConfirm={() => { deleteData(row._id); }}\r\n                            okText=\"Yes\"\r\n                            cancelText=\"No\"\r\n                        >\r\n                            <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                        </Popconfirm>\r\n                    }\r\n                    {\r\n                        <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} style={{ marginRight: \"4px\" }} />\r\n                    }\r\n                    {\r\n                        <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { transactionModalRef.current.openForm(row._id) }} />\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.list(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of  Accounts</Typography.Title>\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, type }} />\r\n            <TransactionModal ref={transactionModalRef} />\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder='Search by name' onChange={(e) => { setQData({ ...qData, key: e.target.value }) }} />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                            <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                        </Form.Item>\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected Data?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n    const handleChange = (value) => { setData({ ...data, ...value }); }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data._id).then(res => {\r\n            setData(res.data || {});\r\n\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Account Data'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[0, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder='Enter Name' value={data.name} onChange={(e) => handleChange({ name: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Initial Amount\" required>\r\n                                    <Input type='number' defaultValue={0} value={data.initialAmount} onChange={(e) => handleChange({ initialAmount: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                        <Select.Option value=\"opened\">Opened</Select.Option>\r\n                                        <Select.Option value=\"closed\">Closed</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\nconst TransactionModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt);\r\n        }\r\n    }));\r\n    return (\r\n        <>\r\n            <Modal\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={1400}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <AccountTransaction accountId={data} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'file';\r\n\r\n    static get(url) {\r\n        return axios.get(\"../\"+  url);\r\n    }\r\n\r\n    static save(data, config) {\r\n        return axios.post(this.baseURL + \"/save\", data, config);\r\n    }\r\n    static remove(data) {\r\n        return axios.post(this.baseURL + \"/remove\", data);\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Upload, Button } from \"antd\";\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport fileService from \"../services/file\";\r\nimport React from \"react\";\r\n\r\nexport default function UploadAudio({ fileList, setFileList, count = 1, disabled = false }) {\r\n    const uploadImage = async options => {\r\n        const { onSuccess, onError, file, onProgress } = options;\r\n\r\n        const fmData = new FormData();\r\n        const config = { onUploadProgress: event => { onProgress({ percent: (event.loaded / event.total) * 100 }); } };\r\n        fmData.append(\"file\", file);\r\n        try {\r\n            fileService.save(fmData, config).then(res => {\r\n                onSuccess(\"Ok\");\r\n                setFileList([...fileList, { uid: res.data.uid, url: res.data.url, name: res.data.name }]);\r\n            })\r\n        } catch (err) {\r\n            onError({ err });\r\n        }\r\n    };\r\n\r\n    const handleOnChange = ({ file, fl }) => {\r\n        if (typeof fl !== typeof []) {\r\n            fl = [];\r\n        }\r\n        setFileList(fl);\r\n\r\n    };\r\n    const handleRemove = (file) => {\r\n        fileService.remove({ uid: file.uid }).then(res => {\r\n            // setFileList(fileList?.filter(v => v.uid !== file.uid))\r\n        })\r\n    };\r\n\r\n    return <Upload\r\n        accept=\"text/csv\"\r\n        customRequest={uploadImage}\r\n        onChange={handleOnChange}\r\n        onRemove={handleRemove}\r\n        listType=\"picture\"\r\n        fileList={fileList}\r\n        className=\"image-upload-grid\"\r\n        disabled={disabled}\r\n        onPreview={(file) => {\r\n            return fetch(file.url, {\r\n                method: 'GET',\r\n            })\r\n                .then(res => res.json())\r\n                .then(({ thumbnail }) => {\r\n                    return thumbnail;\r\n                });\r\n        }}\r\n    >\r\n        {\r\n            fileList?.length >= count\r\n                ? null\r\n                : <Button icon={<UploadOutlined />} type=\"dashed\" danger style={{ margin: 30, width: \"134%\"}}>Upload CSV File</Button>\r\n        }\r\n    </Upload >\r\n\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Select, DatePicker, message, Timeline, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, UploadOutlined, ExclamationCircleFilled } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/transaction';\r\nimport serviceAccount from '../../services/account';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport moment from 'moment';\r\nimport UploadCSV from '../../utils/UploadCSV';\r\n\r\nexport default function Transaction({ transactionType = \"credit\" }) {\r\n    const path = window.location.pathname.split('/')[2];\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [accounts, setAccounts] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, transactionType });\r\n    const addNewModalRef = useRef();\r\n    const uploadCsvModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Account Name',\r\n            dataIndex: 'accountDetail',\r\n            render: (data) => data?.name\r\n        },\r\n        {\r\n            title: 'Receivable Account',\r\n            dataIndex: 'accountRecievable',\r\n            width: 250,\r\n            hidden: transactionType === 'debit'\r\n        },\r\n        {\r\n            title: 'Date',\r\n            dataIndex: 'date',\r\n            width: 150,\r\n            render: v => moment(v).format('DD MMM YYYY')\r\n        },\r\n        {\r\n            title: 'Amount',\r\n            dataIndex: 'amount',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Bill Number',\r\n            dataIndex: 'billNumber',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        <Popconfirm\r\n                            title=\"Are you sure to delete this Account data?\"\r\n                            onConfirm={() => { deleteData(row._id); }}\r\n                            okText=\"Yes\"\r\n                            cancelText=\"No\"\r\n                        >\r\n                            <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                        </Popconfirm>\r\n                    }\r\n                    {\r\n                        <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.list(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, uploadCsvModalRef, selected, deleteData, qData, setQData, list, accounts }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n    useEffect(() => {\r\n        setQData({ ...qData, transactionType: path === \"sales-transaction\" ? \"debit\" : \"credit\" })\r\n    }, [path])\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit, qData.transactionType]);\r\n    \r\n\r\n    useEffect(() => {\r\n        serviceAccount.list({ isAll: 1 })\r\n            .then(res => {\r\n                setAccounts(res.data);\r\n            })\r\n            .catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            })\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5} style={{ margin: 0 }}>List of  Transactions</Typography.Title>\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, accounts }} />\r\n            <UploadCsvModal ref={uploadCsvModalRef} transactionType={transactionType} list={list} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, uploadCsvModalRef, selected, deleteData, qData, setQData, list, accounts }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Select placeholder=\"Choose a account\" value={qData.accountId} onChange={v => { setQData({ ...qData, accountId: v }) }} allowClear>\r\n                            {\r\n                                accounts.map(v => (\r\n                                    <Select.Option value={v._id} key={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <DatePicker.RangePicker format='DD MMM YYYY' onChange={(e) => { setQData({ ...qData, startTime: new Date(e[0]), endTime: new Date(e[1]) }) }} />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={10}>\r\n                    {\r\n                        <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                            <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                        </Form.Item>\r\n                    }\r\n                    {\r\n                        <Form.Item style={{ marginBottom: 0, float: 'right', marginRight: \"1rem\" }}>\r\n                            <Button type=\"primary\" icon={<UploadOutlined />} onClick={() => { uploadCsvModalRef.current.openForm() }}>Upload File (CSV)</Button>\r\n                        </Form.Item>\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected Data?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, accounts } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        Object.entries(value).forEach(ent => {\r\n            let varDt = data;\r\n            const k = ent[0];\r\n            const v = ent[1];\r\n            let keys = k.split('.');\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (i + 1 === keys.length) {\r\n                    varDt[keys[i]] = v;\r\n                } else {\r\n                    if (typeof varDt[keys[i]] === 'undefined') {\r\n                        if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                            varDt[keys[i]] = [];\r\n                        } else {\r\n                            varDt[keys[i]] = {};\r\n                        }\r\n                    } varDt = varDt[keys[i]];\r\n                }\r\n            }\r\n        });\r\n        setData({ ...data });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data._id).then(res => {\r\n            setData(res.data || {});\r\n\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        }\r\n    }, [open]);\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Transaction Data'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Account Id\" required>\r\n                                    <Select value={data.accountId} onChange={v => { handleChange({ accountId: v }) }} >\r\n                                        {\r\n                                            accounts.map(item => <Select.Option value={item._id} key={item._id}>{item.name}</Select.Option>)\r\n                                        }\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Amount\" required>\r\n                                    <Input placeholder='Enter Amount' type=\"number\" min={0} value={data.amount} onChange={(e) => handleChange({ amount: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Type\" required>\r\n                                    <Input placeholder='Enter your type' value={data.type} onChange={(e) => handleChange({ type: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Bill Number\" required>\r\n                                    <Input placeholder='Enter bill number' value={data.billNumber} onChange={(e) => handleChange({ billNumber: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Account Recievable\" required>\r\n                                    <Input value={data.accountRecievable} onChange={(e) => handleChange({ accountRecievable: e.target.value })}></Input>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Date\" required>\r\n                                    <DatePicker format='DD MMM YYYY' onChange={(v) => { handleChange({ date: v }) }} value={moment(data?.date)} className=\"w-100\" />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Comment\">\r\n                                    <Input.TextArea cols={8} rows={6} value={data.comment} onChange={(e) => handleChange({ comment: e.target.value })}></Input.TextArea>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst UploadCsvModal = forwardRef((props, ref) => {\r\n    const { list, transactionType } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [confirmDeletion, setConfirmDeletion] = useState(false);\r\n\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setFileList([]);\r\n        }\r\n    }));\r\n\r\n    const save = () => {\r\n        if (fileList[0]?.url && confirmDeletion) {\r\n            setAjxRequesting(true);\r\n            service.saveFromCSVUrl({ url: fileList[0]?.url, transactionType }).then((res) => {\r\n                AntdMsg(res.message);\r\n                list();\r\n                setOpen(false);\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (fileList[0]?.url) {\r\n            service.checkPrevTransation({ url: fileList[0]?.url, transactionType }).then(res => {\r\n                if (res.data.alreadyExistedDataDates?.length > 0) {\r\n                    confirmDeletionModal(res.data.alreadyExistedDataDates);\r\n                } else {\r\n                    message.success(res.message);\r\n                    setConfirmDeletion(true);\r\n                }\r\n            }).catch(err => {\r\n                message.warning(err.message);\r\n            })\r\n        }\r\n    }, [fileList])\r\n\r\n    const confirmDeletionModal = (alreadyExistedDataDates) => {\r\n        Modal.confirm({\r\n            title: 'Records Already exists',\r\n            icon: <ExclamationCircleFilled />,\r\n            content: <>\r\n                <p>Records will be deleted on these dates </p>\r\n                {\r\n                    alreadyExistedDataDates.map((v, i) => (<Tag color=\"red\" key={i}>{v}</Tag>))\r\n                }\r\n            </>,\r\n            okText: 'Delete Records',\r\n            okType: 'danger',\r\n            cancelText: 'Cancel',\r\n            onOk() {\r\n                setConfirmDeletion(true);\r\n            },\r\n            onCancel() { },\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title=\"Upload File (CSV)\"\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={400}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save} disabled={!confirmDeletion || ajxRequesting}>Save</Button>,\r\n                ]}\r\n            >\r\n                <UploadCSV {...{ fileList, setFileList }} count={1} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import React from \"react\";\r\nimport { Card, Layout, Menu } from \"antd\";\r\nimport { Routes, Route, Link } from \"react-router-dom\";\r\nimport Error404 from \"../pages/errors/Error404\";\r\nimport commonObj from \"../../commonObj\";\r\nimport SalesReport from \"../pages/SalesReport\";\r\nimport BillingReport from \"../pages/BillingReport\";\r\nimport Account from \"../pages/Account\";\r\nimport Transaction from \"../pages/Transaction\";\r\n\r\n\r\nexport default function MyLayout() {\r\n\r\n    return (\r\n        <>\r\n            <Layout style={{ minHeight: '100vh', }}>\r\n                <Layout className=\"site-layout\" >\r\n                    <Layout.Header  style={{ padding: 0, height: 'auto' }} >\r\n                        <Menu theme=\"dark\" mode=\"horizontal\" items={[\r\n                            {\r\n                                label: <Link to={'/sales-report'}>Sales Report</Link>,\r\n                                key: \"sales-report\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/billing-report'}>Billing Report</Link>,\r\n                                key: \"billing-report\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/accounts'}>Accounts</Link>,\r\n                                key: \"accounts\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/bill-transaction'}>Bill Transactions</Link>,\r\n                                key: \"bill-transaction\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/sales-transaction'}>Sales Transactions</Link>,\r\n                                key: \"sales-transaction\"\r\n                            },\r\n                            {\r\n                                label: commonObj?.name ? commonObj.name : 'You',\r\n                                key: 'profile',\r\n                                children: [\r\n                                    {\r\n                                        key: 'Profile',\r\n                                        label: 'Profile',\r\n                                    },\r\n                                    {\r\n                                        key: 'Logout',\r\n                                        danger: true,\r\n                                        label: 'Logout',\r\n                                        onClick: () => { window.localStorage.clear(); window.location.reload(); }\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]}>\r\n                        </Menu>\r\n                    </Layout.Header>\r\n\r\n                    <Layout.Content>\r\n                        <Card style={{ borderRadius: \"none\" }}>\r\n                            <Routes>\r\n                                <Route path=\"sales-report\" element={<SalesReport />} />\r\n                                <Route path=\"billing-report\" element={ <BillingReport /> } />\r\n                                <Route path=\"accounts\" element={ <Account /> } />\r\n                                <Route path=\"bill-transaction\" element={ <Transaction transactionType=\"credit\" /> } />\r\n                                <Route path=\"sales-transaction\" element={ <Transaction transactionType=\"debit\" /> } />\r\n                                <Route path={'*'} element={<Error404 />} />\r\n                            </Routes>\r\n                        </Card>\r\n                    </Layout.Content>\r\n                </Layout>\r\n            </Layout>\r\n        </>\r\n    );\r\n\r\n}"],"names":["Error404","status","title","subTitle","extra","to","type","service","data","axios","this","baseURL","params","id","ids","MyPagination","props","qData","setQData","total","showTotal","start","page","limit","end","pageSize","current","onChange","pp","showSizeChanger","AntdMsg","$msg","$type","message","BillingReport","transactionType","path","window","location","pathname","split","useState","setData","loading","setLoading","accounts","setAccounts","addNewModalRef","useRef","columns","dataIndex","render","name","width","v","moment","format","initialAmount","row","size","icon","EyeOutlined","onClick","openForm","_id","filter","item","hidden","list","listBillReport","then","res","map","key","accountId","catch","err","finally","deleteData","tableColumns","ellipsis","fixed","length","tableProps","bordered","Search","showHeader","footer","tableLayout","undefined","useEffect","serviceAccount","isAll","Object","keys","level","style","margin","pagination","position","dataSource","scroll","y","x","expandable","rowExpandable","record","expandedRowRender","console","log","display","flexDirection","previousCreditTransactions","previousDebitTransactions","date","align","includes","reduce","accumulator","currentValue","amount","accountDetails","previousCreditAmount","previousDebitAmount","AddForm","ref","onSubmitCapture","className","gutter","span","marginBottom","placeholder","value","allowClear","e","startTime","Date","endTime","htmlType","forwardRef","open","setOpen","useImperativeHandle","dt","top","okText","onCancel","maskClosable","AccountTransaction","selected","setSelected","onConfirm","cancelText","danger","DeleteOutlined","EditOutlined","rowSelection","selectedRowKeys","marginLeft","marginRight","accountDetail","billNumber","float","aspect","ajxRequesting","setAjxRequesting","handleChange","entries","forEach","ent","varDt","k","i","parseInt","save","detail","onOk","okButtonProps","disabled","spinning","indicator","LoadingOutlined","fontSize","spin","layout","label","required","min","target","accountRecievable","cols","rows","comment","Account","transactionModalRef","_","color","TransactionModal","destroyOnClose","defaultValue","url","config","UploadAudio","fileList","setFileList","count","uploadImage","options","onSuccess","onError","file","onProgress","fmData","FormData","onUploadProgress","event","percent","loaded","append","fileService","uid","accept","customRequest","fl","onRemove","listType","onPreview","fetch","method","json","thumbnail","UploadOutlined","Transaction","uploadCsvModalRef","UploadCsvModal","confirmDeletion","setConfirmDeletion","checkPrevTransation","alreadyExistedDataDates","confirmDeletionModal","Modal","ExclamationCircleFilled","content","okType","saveFromCSVUrl","MyLayout","minHeight","padding","height","theme","mode","items","commonObj","children","localStorage","clear","reload","borderRadius","element"],"sourceRoot":""}